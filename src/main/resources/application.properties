# ===============================================
# IDENTIFICATION DE L'APPLICATION
# ===============================================
spring.application.name=driver-backend

# ===============================================
# CONFIGURATION DU SERVEUR WEB
# ===============================================
server.port=8080

# ===============================================
# PROFIL ACTIF
# Activer le mode hybride: services réels sauf pour les ressources.
# ===============================================
spring.profiles.active=dev-resource-mock

# ===============================================
# CONFIGURATION DES MICROSERVICES EXTERNES
# ===============================================
microservices.auth-service.url=https://gateway.yowyob.com/auth-service
microservices.organisation-service.url=https://gateway.yowyob.com/organization-service
microservices.chat-service.url=http://88.198.150.195:8613
microservices.notification-service.url=https://gateway.yowyob.com/notification-service

microservices.resource-service.url=https://gateway.yowyob.com/resource-service

# ===============================================
# CONFIGURATION SPÉCIFIQUE À FREELANCE DRIVER
# ===============================================
freelancedriver.api.public-key=api_1752647119025_8d6e5340.ieGsWPxnE9eY0xBQ7n8htlTiQP3n4009
freelancedriver.chat.project-id=25cf4dfd-e847-4b59-91c7-034aa5afc200

# ===============================================
# CONFIGURATION OAUTH2 CLIENT CREDENTIALS
# ===============================================
freelancedriver.oauth2.client-id=test-client
freelancedriver.oauth2.client-secret=secret
freelancedriver.oauth2.token-url=${microservices.auth-service.url}/oauth/token

# ===============================================
# CONFIGURATION DU SERVEUR DE RESSOURCES OAUTH2 (CORRIGÉE)
# ===============================================
# On fournit uniquement l'URL de l'émetteur (issuer).
# Spring Boot l'utilisera pour valider le champ 'iss' du token
# et pour découvrir automatiquement l'URL des clés (jwk-set-uri).
spring.security.oauth2.resourceserver.jwt.jwk-set-uri=https://gateway.yowyob.com/auth-service/openid/.well-known/jwks.json

# ===============================================
# CONFIGURATION DES DEVTOOLS
# ===============================================
spring.devtools.restart.enabled=true

# ===============================================
# CONFIGURATION AVANCÉE DU DRIVER CASSANDRA
# Pour forcer un timeout plus long et éviter les erreurs en développement
# ===============================================
spring.data.cassandra.request.timeout=20s
spring.data.cassandra.connection.connect-timeout=20s
spring.data.cassandra.connection.init-query-timeout=20s


# ===============================================
# CONFIGURATION POUR L'ENVOI D'EMAIL (POUR LE MOCK)
# ===============================================
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=mbognengj@gmail.com
spring.mail.password=wxupcsgfxdwotdeu
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.debug=true